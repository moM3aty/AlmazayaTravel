<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Almazaya Travel</title>
    <meta name="description" content="Almazaya Travel is a licensed travel agency in Saudi Arabia, offering customized trips and tours to Malaysia, Indonesia, Thailand, and Egypt. Discover extraordinary destinations with expert guidance and 24/7 support." />
    <meta name="keywords" content="Almazaya Travel, travel agency Saudi Arabia, Malaysia tours, Indonesia trips, Thailand holidays, Egypt travel packages, Southeast Asia travel, affordable tours, licensed travel agency" />
    <meta name="author" content="Almazaya Travel" />
    <meta name="robots" content="index, follow" />
    <link rel="icon" href="~/images/logo.png" type="image/png">
    <link href="~/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/css/all.min.css" />
    <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200..1000&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    <link href="~/css/index.css" rel="stylesheet" />
    @await RenderSectionAsync("Styles", required: false)
</head>
<body class="@(ViewContext.RouteData.Values["action"]?.ToString() == "Index" && ViewContext.RouteData.Values["controller"]?.ToString() == "Home" ? "home-page" : "")">
    <nav id="main-nav" class="navbar navbar-expand-lg fixed-top py-1">
        <div class="container">
            <a class="navbar-brand fw-bold text-white d-flex align-items-center" asp-controller="Home" asp-action="Index">
                <img src="~/images/logo.png" alt="Logo" class="logo-img me-2">
                Almazaya Travel
            </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <i class="fas fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse text-center mt-5 mt-lg-0 " id="navbarNav">
                <ul class="navbar-nav mx-auto text-white d-flex justify-content-center align-items-center flex-column gap-4 gap-lg-2 flex-lg-row">
                    <li class="nav-item">
                        <a class="nav-link" data-ar="الرئيسية" data-en="Home" asp-controller="Home" asp-action="Index" asp-fragment="home">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-ar="من نحن" data-en="About" asp-controller="Home" asp-action="Index" asp-fragment="about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-ar="الرحلات" data-en="Travels" asp-controller="Home" asp-action="Index" asp-fragment="travels">Travels</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-ar="لماذا نحن" data-en="Why Choose Us" asp-controller="Home" asp-action="Index" asp-fragment="why-choose-us">Why Choose Us</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-ar="سياسة الإلغاء" data-en="Cancellation Policy" asp-controller="Home" asp-action="CancellationPolicy">Policy</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-ar="اتصل بنا" data-en="Contact" asp-controller="Home" asp-action="Index" asp-fragment="contact">Contact</a>
                    </li>
                </ul>

                <button class="btn translate-btn mt-4 mt-lg-0" id="translateBtn">
                    <i class="fas fa-globe"></i>
                    <span class="ms-2" data-en="العربية" data-ar="English"></span>
                </button>
            </div>
        </div>
    </nav>

    <div>
        @RenderBody()
    </div>

    <footer class="footer py-5">
        <div class="container">
            <div class="row g-4">
                <div class="col-lg-4">
                    <div class="footer-brand">
                        <a class="navbar-brand fw-bold text-white d-flex align-items-center mb-3" asp-controller="Home" asp-action="Index">
                            <img src="~/images/logo.png" alt="Logo" class="logo-img me-2">
                            Almazaya Travel
                        </a>
                        <p class="mb-4 opacity-75"
                           data-en="Your trusted partner for exploring the wonders of Southeast Asia. Licensed and registered in Saudi Arabia."
                           data-ar="شريكك الموثوق لاستكشاف عجائب جنوب شرق آسيا. مرخص ومسجل في المملكة العربية السعودية.">
                            Your trusted partner for exploring the wonders of Southeast Asia.
                            Licensed and registered in Saudi Arabia.
                        </p>
                        <div class="social-links">
                            <a href="https://www.facebook.com/share/1BHYk7nLL3/?mibextid=wwXIfr" target="_blank" rel="noopener noreferrer" class="social-link"><i class="fab fa-facebook-f"></i></a>
                            <a href="https://x.com/almazayatravel?s=11" target="_blank" rel="noopener noreferrer" class="social-link"><i class="fab fa-twitter"></i></a>
                            <a href="https://www.instagram.com/almazayatravel?igsh=MTA3ZThzYXJlMTRqdQ%3D%3D&utm_source=qr" target="_blank" rel="noopener noreferrer" class="social-link"><i class="fab fa-instagram"></i></a>
                            <a href="https://www.tiktok.com/@@almazaya.travel?_t=ZS-8zZ0k34N0l7&_r=1" target="_blank" rel="noopener noreferrer" class="social-link"><i class="fab fa-tiktok"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <h6 class="footer-title" data-en="Quick Links" data-ar="روابط سريعة">Quick Links</h6>
                    <ul class="footer-links">
                        <li><a asp-controller="Home" asp-action="Index" asp-fragment="home" data-en="Home" data-ar="الرئيسية">Home</a></li>
                        <li><a asp-controller="Home" asp-action="Index" asp-fragment="about" data-en="About Us" data-ar="معلومات عنا">About Us</a></li>
                        <li><a asp-controller="Home" asp-action="Index" asp-fragment="travels" data-en="Travel Packages" data-ar="باقات السفر">Travel Packages</a></li>
                        <li><a asp-controller="Home" asp-action="Index" asp-fragment="why-choose-us" data-en="Why Choose Us" data-ar="لماذا تختارنا">Why Choose Us</a></li>
                        <li><a asp-controller="Home" asp-action="CancellationPolicy" data-en="Policy" data-ar="السياسة">Policy</a></li>
                        <li><a asp-controller="Home" asp-action="Index" asp-fragment="contact" data-en="Contact" data-ar="اتصل بنا">Contact</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6">
                    <h6 class="footer-title" data-en="Destinations" data-ar="الوجهات">Destinations</h6>
                    <ul class="footer-links">
                        @* Consider generating these dynamically if needed *@
                        <li><span class="text-white opacity-75" data-en="Malaysia" data-ar="ماليزيا">Malaysia</span></li>
                        <li><span class="text-white opacity-75" data-en="Indonesia" data-ar="إندونيسيا">Indonesia</span></li>
                        <li><span class="text-white opacity-75" data-en="Thailand" data-ar="تايلاند">Thailand</span></li>
                        <li><span class="text-white opacity-75" data-en="Egypt" data-ar="مصر">Egypt</span></li>
                    </ul>
                </div>
                <div class="col-lg-3">
                    <h6 class="footer-title" data-en="Contact Info" data-ar="معلومات الاتصال">Contact Info</h6>
                    <div class="contact-info">
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span data-en="Dammam, Saudi Arabia" data-ar="الدمام المملكة العربية السعودية">Dammam, Saudi Arabia</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <a href="tel:+966567638260" class="text-white opacity-75 text-decoration-none">+966 56 763 8260</a>
                        </div>
                        <div class="contact-item">
                            <i class="fab fa-whatsapp"></i>
                            <a href="https://wa.me/966567638260" target="_blank" rel="noopener noreferrer" class="text-white opacity-75 text-decoration-none" data-en="WhatsApp Chat" data-ar="محادثة واتساب">WhatsApp Chat</a>
                        </div>
                    </div>
                </div>
            </div>
            <hr class="my-4 opacity-25">
            <div class="row g-4 align-items-center">
                <div class="col-md-6">
                    <p class="mb-0 opacity-75" data-en="&copy; @DateTime.Now.Year Almazaya Travel. All rights reserved."
                       data-ar="&copy; @DateTime.Now.Year المزایا للسفر. جميع الحقوق محفوظة.">
                        &copy; @DateTime.Now.Year Almazaya Travel. All rights reserved.
                    </p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="mb-0 opacity-75" data-en="Licensed Travel Agency in Saudi Arabia"
                       data-ar="وكالة سفر مرخصة في المملكة العربية السعودية">
                        Licensed Travel Agency in Saudi Arabia
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <button class="back-to-top" id="backToTop">
        <i class="fas fa-chevron-up"></i>
    </button>
    <a href="https://wa.me/966567638260" target="_blank" rel="noopener noreferrer" class="whatsapp-float">
        <i class="fab fa-whatsapp"></i>
    </a>

    <script src="~/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="~/js/index.js" asp-append-version="true"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <partial name="_ValidationScriptsPartial" />
    @await RenderSectionAsync("Scripts", required: false)

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            function updateActiveNavLink() {
                 document.querySelectorAll(".nav-link").forEach(link => link.classList.remove("active"));

                 const currentPath = window.location.pathname.toLowerCase();
                 const currentHash = window.location.hash;
                 let foundMatch = false;

                 document.querySelectorAll(".nav-link").forEach(link => {
                     const linkHref = link.getAttribute("href")?.toLowerCase() || '';
                     const linkFragment = link.getAttribute("asp-fragment") ? '#' + link.getAttribute("asp-fragment") : null;
                     const linkControllerAction = link.getAttribute("asp-action")?.toLowerCase();

                     if (linkControllerAction === 'cancellationpolicy' && currentPath.endsWith('/cancellationpolicy')) {
                          link.classList.add("active");
                          foundMatch = true;
                          return;
                     }

                     if (!foundMatch && (currentPath === '/' || currentPath === '/home' || currentPath === '/home/index')) {
                          if (linkFragment && currentHash === linkFragment) {
                              link.classList.add("active");
                              foundMatch = true;
                          }
                     }
                 });

                  if (!foundMatch && (currentPath === '/' || currentPath === '/home' || currentPath === '/home/index') && !currentHash) {
                       const homeLink = document.querySelector('.nav-link[asp-fragment="home"]');
                       if (homeLink) homeLink.classList.add('active');
                  }
            }

            window.addEventListener("scroll", updateActiveNavLink);
            window.addEventListener("hashchange", updateActiveNavLink);
            updateActiveNavLink();
        });
    </script>

</body>
</html>
